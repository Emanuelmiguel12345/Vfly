<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo do Jaiminho - Live Streamer</title>
    <style>
        * { margin: 0px; padding: 0px; box-sizing: border-box; }

        body { font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, rgb(10, 10, 10) 0%, rgb(26, 26, 46) 100%); color: rgb(255, 255, 255); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }

        .main-container {
            display: flex;
            gap: 20px;
            max-width: 1000px;
            width: 100%;
        }

        .game-container { 
            background: rgba(255, 255, 255, 0.05); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            border-radius: 20px; 
            padding: 30px; 
            width: 70%; 
            text-align: center; 
            box-shadow: rgba(0, 0, 0, 0.3) 0px 25px 45px; 
        }

        .scoreboard-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            width: 30%;
            box-shadow: rgba(0, 0, 0, 0.3) 0px 25px 45px;
        }

        h1 { font-size: 2.5rem; margin-bottom: 30px; background: linear-gradient(45deg, rgb(255, 107, 107), rgb(78, 205, 196), rgb(69, 183, 209)) text; -webkit-text-fill-color: transparent; text-shadow: rgba(255, 107, 107, 0.3) 0px 0px 30px; }

        .setup-screen { display: block; }

        .game-screen { display: none; }

        .input-section { margin-bottom: 30px; }

        .secret-input { 
            background: rgba(255, 255, 255, 0.1); 
            border: 2px solid rgba(255, 255, 255, 0.2); 
            border-radius: 15px; 
            padding: 15px 20px; 
            font-size: 1.2rem; 
            color: rgb(255, 255, 255); 
            width: 100%; 
            max-width: 300px; 
            margin-bottom: 20px; 
            text-align: center; 
            transition: 0.3s; 
        }

        .secret-input:focus { outline: none; border-color: rgb(78, 205, 196); box-shadow: rgba(78, 205, 196, 0.3) 0px 0px 20px; }

        .secret-input::placeholder { color: rgba(255, 255, 255, 0.5); }

        .btn { 
            background: linear-gradient(45deg, rgb(255, 107, 107), rgb(78, 205, 196)); 
            border: none; 
            border-radius: 15px; 
            padding: 15px 30px; 
            font-size: 1.1rem; 
            color: rgb(255, 255, 255); 
            cursor: pointer; 
            transition: 0.3s; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
        }

        .btn:hover { transform: translateY(-2px); box-shadow: rgba(255, 107, 107, 0.3) 0px 10px 20px; }

        .word-display { font-size: 2.5rem; font-weight: bold; margin: 30px 0px; letter-spacing: 8px; color: rgb(78, 205, 196); text-shadow: rgba(78, 205, 196, 0.5) 0px 0px 20px; min-height: 60px; display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 5px; }

        .stats { display: flex; justify-content: space-around; margin: 20px 0px; flex-wrap: wrap; gap: 20px; }

        .stat-item { background: rgba(255, 255, 255, 0.1); padding: 15px 25px; border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.2); flex: 1 1 0%; min-width: 120px; }

        .stat-label { font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px; }

        .stat-value { font-size: 1.5rem; font-weight: bold; }

        .errors { color: rgb(255, 107, 107); }

        .keyboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(50px, 1fr)); gap: 10px; margin: 30px auto; max-width: 500px; }

        .key { background: rgba(255, 255, 255, 0.1); border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 10px; padding: 15px; font-size: 1.1rem; color: rgb(255, 255, 255); cursor: pointer; transition: 0.3s; font-weight: bold; }

        .key:hover { background: rgba(255, 255, 255, 0.2); transform: translateY(-2px); }

        .key.correct { background: linear-gradient(45deg, rgb(78, 205, 196), rgb(69, 183, 209)); border-color: rgb(78, 205, 196); box-shadow: rgba(78, 205, 196, 0.3) 0px 0px 20px; }

        .key.wrong { background: linear-gradient(45deg, rgb(255, 107, 107), rgb(255, 71, 87)); border-color: rgb(255, 107, 107); box-shadow: rgba(255, 107, 107, 0.3) 0px 0px 20px; }

        .key.disabled { opacity: 0.3; cursor: not-allowed; pointer-events: none; }

        .message { font-size: 1.5rem; font-weight: bold; margin: 20px 0px; padding: 20px; border-radius: 15px; min-height: 60px; display: flex; align-items: center; justify-content: center; }

        .message.victory { background: linear-gradient(45deg, rgba(78, 205, 196, 0.2), rgba(69, 183, 209, 0.2)); border: 2px solid rgb(78, 205, 196); color: rgb(78, 205, 196); text-shadow: rgba(78, 205, 196, 0.5) 0px 0px 20px; }

        .message.defeat { background: linear-gradient(45deg, rgba(255, 107, 107, 0.2), rgba(255, 71, 87, 0.2)); border: 2px solid rgb(255, 107, 107); color: rgb(255, 107, 107); text-shadow: rgba(255, 107, 107, 0.5) 0px 0px 20px; }

        .controls { margin-top: 20px; }

        .victory-screen { display: none; background: rgba(78, 205, 196, 0.1); border: 2px solid rgb(78, 205, 196); border-radius: 15px; padding: 20px; margin: 20px 0px; }

        .victory-input { background: rgba(255, 255, 255, 0.1); border: 2px solid rgb(78, 205, 196); border-radius: 10px; padding: 12px 15px; font-size: 1.1rem; color: rgb(255, 255, 255); margin: 10px 5px; text-align: center; min-width: 200px; }

        .victory-input:focus { outline: none; box-shadow: rgba(78, 205, 196, 0.4) 0px 0px 15px; }

        .victory-input::placeholder { color: rgba(255, 255, 255, 0.6); }

        .btn-small { background: linear-gradient(45deg, rgb(78, 205, 196), rgb(69, 183, 209)); border: none; border-radius: 8px; padding: 8px 15px; font-size: 0.9rem; color: rgb(255, 255, 255); cursor: pointer; transition: 0.3s; margin: 5px; }

        .btn-small:hover { transform: translateY(-1px); box-shadow: rgba(78, 205, 196, 0.3) 0px 5px 15px; }

        .scoreboard { margin: 20px 0px; max-height: 500px; overflow-y: auto; }

        .scoreboard h3 { color: rgb(78, 205, 196); margin-bottom: 15px; font-size: 1.3rem; text-align: center; }

        .score-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; margin: 5px 0px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border-left: 3px solid rgb(78, 205, 196); }

        .score-item.streamer { border-left-color: rgb(255, 107, 107); background: rgba(255, 107, 107, 0.1); }

        .player-name { font-weight: bold; font-size: 1.1rem; }

        .player-score { font-size: 1.2rem; font-weight: bold; color: rgb(78, 205, 196); }

        .streamer .player-score { color: rgb(255, 107, 107); }

        .crown { color: rgb(255, 215, 0); margin-right: 5px; }

        .hangman-display { background: rgba(0, 0, 0, 0.3); border-radius: 15px; padding: 20px; margin: 20px 0px; border: 1px solid rgba(255, 255, 255, 0.1); height: 250px; display: flex; justify-content: center; align-items: center; }

        .hangman-svg { width: 200px; height: 200px; }

        .hangman-part { transition: 0.5s; filter: drop-shadow(rgba(255, 107, 107, 0.5) 0px 0px 5px); }

        .gallows { stroke: rgb(102, 102, 102); stroke-width: 3; fill: none; }

        .head { stroke: rgb(255, 107, 107); stroke-width: 3; fill: none; }

        .body { stroke: rgb(255, 107, 107); stroke-width: 3; }

        .arms, .legs { stroke: rgb(255, 107, 107); stroke-width: 3; }

        .welcome-screen { text-align: center; }
        .streamer-name-input { 
            background: rgba(255, 255, 255, 0.1); 
            border: 2px solid rgba(255, 255, 255, 0.2); 
            border-radius: 15px; 
            padding: 15px 20px; 
            font-size: 1.2rem; 
            color: rgb(255, 255, 255); 
            width: 100%; 
            max-width: 300px; 
            margin-bottom: 20px; 
            text-align: center; 
            transition: 0.3s; 
        }

        @keyframes fadeIn { 
          0% { opacity: 0; transform: scale(0.8); }
          100% { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 768px) {
          .main-container { flex-direction: column; }
          .game-container, .scoreboard-container { width: 100%; }
          .game-container { padding: 20px; }
          h1 { font-size: 2rem; }
          .word-display { font-size: 2rem; letter-spacing: 4px; }
          .keyboard { grid-template-columns: repeat(auto-fit, minmax(40px, 1fr)); gap: 8px; }
          .key { padding: 12px 8px; font-size: 1rem; }
        }
    </style>
</head>
<body>
    <!-- Tela de Boas-Vindas -->
    <div class="welcome-screen" id="welcomeScreen">
        <h1>🎮 JOGO DO JAIMINHO</h1>
        <div class="input-section">
            <input type="text" class="streamer-name-input" id="streamerNameInput" placeholder="Digite seu nome de streamer..." maxlength="20">
            <br>
            <button class="btn" id="startGameBtn">INICIAR</button>
        </div>
    </div>

    <!-- Container Principal (aparece após cadastro do nome) -->
    <div class="main-container" id="mainContainer" style="display: none;">
        <div class="game-container">
            <!-- Tela de Configuração -->
            <div class="setup-screen" id="setupScreen">
                <div class="input-section">
                    <input type="password" class="secret-input" id="secretWordInput" placeholder="Digite a palavra secreta..." maxlength="30">
                    <br>
                    <button class="btn" id="startRoundBtn">INICIAR JOGO</button>
                </div>
            </div>

            <!-- Tela do Jogo -->
            <div class="game-screen" id="gameScreen">
                <div class="word-display" id="wordDisplay"></div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-label">Acertos</div>
                        <div class="stat-value" id="correctCount">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label errors">Erros</div>
                        <div class="stat-value errors" id="errorCount">0/6</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Restam</div>
                        <div class="stat-value" id="remainingCount">0</div>
                    </div>
                </div>

                <div class="hangman-display" id="hangmanDisplay">
                    <svg class="hangman-svg" viewBox="0 0 200 200">
                        <!-- Base -->
                        <line class="gallows" x1="20" y1="180" x2="100" y2="180" />
                        <!-- Poste -->
                        <line class="gallows" x1="60" y1="180" x2="60" y2="20" />
                        <!-- Topo -->
                        <line class="gallows" x1="60" y1="20" x2="140" y2="20" />
                        <!-- Corda -->
                        <line class="gallows" x1="140" y1="20" x2="140" y2="40" />
                        
                        <!-- Cabeça (inicialmente invisível) -->
                        <circle class="hangman-part head" id="head" cx="140" cy="60" r="20" style="display: none;" />
                        <!-- Corpo (inicialmente invisível) -->
                        <line class="hangman-part body" id="body" x1="140" y1="80" x2="140" y2="130" style="display: none;" />
                        <!-- Braço esquerdo (inicialmente invisível) -->
                        <line class="hangman-part arms" id="leftArm" x1="140" y1="90" x2="110" y2="110" style="display: none;" />
                        <!-- Braço direito (inicialmente invisível) -->
                        <line class="hangman-part arms" id="rightArm" x1="140" y1="90" x2="170" y2="110" style="display: none;" />
                        <!-- Perna esquerda (inicialmente invisível) -->
                        <line class="hangman-part legs" id="leftLeg" x1="140" y1="130" x2="120" y2="160" style="display: none;" />
                        <!-- Perna direita (inicialmente invisível) -->
                        <line class="hangman-part legs" id="rightLeg" x1="140" y1="130" x2="160" y2="160" style="display: none;" />
                    </svg>
                </div>

                <div class="keyboard" id="keyboard"></div>

                <div class="message" id="gameMessage"></div>

                <div class="victory-screen" id="victoryScreen">
                    <h3>🎉 VITÓRIA! 🎉</h3>
                    <p>Quem acertou a palavra?</p>
                    <input type="text" class="victory-input" id="winnerInput" placeholder="Nome do ganhador..." maxlength="20">
                    <br>
                    <button class="btn-small" id="addPointBtn">ADICIONAR PONTO</button>
                    <button class="btn-small" id="streamerPointBtn">FUI EU (STREAMER)</button>
                    <button class="btn-small" id="skipBtn">PULAR</button>
                </div>

                <div class="controls">
                    <button class="btn" id="newWordBtn">NOVA PALAVRA</button>
                </div>
            </div>
        </div>

        <!-- Placar ao lado -->
        <div class="scoreboard-container">
            <h3>🏆 PLACAR</h3>
            <div class="scoreboard">
                <div id="scoreboardContent">
                    <p style="opacity: 0.6; text-align: center;">Nenhum ponto registrado ainda</p>
                </div>
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <button class="btn-small" id="clearScoreboardBtn">LIMPAR PLACAR</button>
            </div>
        </div>
    </div>

    <script>
        // Variáveis do jogo
        let secretWord = '';
        let guessedLetters = [];
        let errorCount = 0;
        const maxErrors = 6;
        let scoreboard = [];
        let streamerName = '';

        // Elementos do DOM
        const welcomeScreen = document.getElementById('welcomeScreen');
        const mainContainer = document.getElementById('mainContainer');
        const streamerNameInput = document.getElementById('streamerNameInput');
        const startGameBtn = document.getElementById('startGameBtn');
        
        const setupScreen = document.getElementById('setupScreen');
        const gameScreen = document.getElementById('gameScreen');
        const secretWordInput = document.getElementById('secretWordInput');
        const startRoundBtn = document.getElementById('startRoundBtn');
        const wordDisplay = document.getElementById('wordDisplay');
        const correctCountElement = document.getElementById('correctCount');
        const errorCountElement = document.getElementById('errorCount');
        const remainingCountElement = document.getElementById('remainingCount');
        const keyboard = document.getElementById('keyboard');
        const gameMessage = document.getElementById('gameMessage');
        const victoryScreen = document.getElementById('victoryScreen');
        const winnerInput = document.getElementById('winnerInput');
        const addPointBtn = document.getElementById('addPointBtn');
        const streamerPointBtn = document.getElementById('streamerPointBtn');
        const skipBtn = document.getElementById('skipBtn');
        const newWordBtn = document.getElementById('newWordBtn');
        const scoreboardContent = document.getElementById('scoreboardContent');
        const clearScoreboardBtn = document.getElementById('clearScoreboardBtn');
        
        // Partes do boneco do hangman
        const hangmanParts = [
            document.getElementById('head'),
            document.getElementById('body'),
            document.getElementById('leftArm'),
            document.getElementById('rightArm'),
            document.getElementById('leftLeg'),
            document.getElementById('rightLeg')
        ];

        // Event Listeners
        startGameBtn.addEventListener('click', startGame);
        startRoundBtn.addEventListener('click', startRound);
        addPointBtn.addEventListener('click', () => addPoint(false));
        streamerPointBtn.addEventListener('click', () => addPoint(true));
        skipBtn.addEventListener('click', skipVictoryScreen);
        newWordBtn.addEventListener('click', resetRound);
        clearScoreboardBtn.addEventListener('click', clearScoreboard);

        // Inicializa o teclado
        function initializeKeyboard() {
            keyboard.innerHTML = '';
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            
            letters.forEach(letter => {
                const key = document.createElement('div');
                key.className = 'key';
                key.textContent = letter;
                key.addEventListener('click', () => handleGuess(letter));
                keyboard.appendChild(key);
            });
        }

        // Começa o jogo após cadastro do nome
        function startGame() {
            const name = streamerNameInput.value.trim();
            if (name === '') {
                alert('Por favor, digite seu nome de streamer!');
                return;
            }
            
            streamerName = name;
            welcomeScreen.style.display = 'none';
            mainContainer.style.display = 'flex';
            initializeKeyboard();
        }

        // Inicia uma nova rodada
        function startRound() {
            secretWord = secretWordInput.value.trim().toUpperCase();
            
            if (secretWord === '') {
                alert('Por favor, digite uma palavra secreta!');
                return;
            }
            
            // Verifica se a palavra contém apenas letras
            if (!/^[A-ZÀ-Ú]+$/i.test(secretWord)) {
                alert('A palavra secreta deve conter apenas letras!');
                return;
            }
            
            secretWordInput.value = '';
            guessedLetters = [];
            errorCount = 0;
            
            updateWordDisplay();
            updateStats();
            resetHangman();
            
            setupScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            victoryScreen.style.display = 'none';
            gameMessage.className = 'message';
            gameMessage.textContent = '';
            
            // Ativa todas as teclas
            document.querySelectorAll('.key').forEach(key => {
                key.className = 'key';
            });
        }

        // Lida com um palpite de letra
        function handleGuess(letter) {
            if (guessedLetters.includes(letter)) return;
            
            guessedLetters.push(letter);
            const keyElement = Array.from(document.querySelectorAll('.key'))
                                .find(el => el.textContent === letter);
            
            if (secretWord.includes(letter)) {
                // Acerto
                keyElement.classList.add('correct');
                updateWordDisplay();
                
                // Verifica se ganhou
                if (checkWin()) {
                    showVictoryScreen();
                }
            } else {
                // Erro
                keyElement.classList.add('wrong');
                errorCount++;
                updateHangman();
                updateStats();
                
                // Verifica se perdeu
                if (errorCount >= maxErrors) {
                    gameOver();
                }
            }
            
            keyElement.classList.add('disabled');
        }

        // Atualiza a exibição da palavra
        function updateWordDisplay() {
            const display = secretWord.split('').map(letter => 
                guessedLetters.includes(letter) ? letter : '_'
            ).join(' ');
            
            wordDisplay.textContent = display;
            
            // Atualiza contagem de letras restantes
            const remaining = secretWord.split('').filter(letter => 
                !guessedLetters.includes(letter)
            ).length;
            
            remainingCountElement.textContent = remaining;
        }

        // Atualiza as estatísticas
        function updateStats() {
            const correct = secretWord.split('').filter(letter => 
                guessedLetters.includes(letter)
            ).length;
            
            correctCountElement.textContent = correct;
            errorCountElement.textContent = `${errorCount}/${maxErrors}`;
        }

        // Atualiza o boneco do hangman
        function updateHangman() {
            if (errorCount > 0 && errorCount <= hangmanParts.length) {
                hangmanParts[errorCount - 1].style.display = 'block';
            }
        }

        // Reseta o boneco do hangman
        function resetHangman() {
            hangmanParts.forEach(part => {
                part.style.display = 'none';
            });
        }

        // Verifica se o jogador ganhou
        function checkWin() {
            return secretWord.split('').every(letter => 
                guessedLetters.includes(letter)
            );
        }

        // Mostra a tela de vitória
        function showVictoryScreen() {
            victoryScreen.style.display = 'block';
            gameMessage.className = 'message victory';
            gameMessage.textContent = `A palavra era: ${secretWord}`;
        }

        // Game over - streamer perdeu
        function gameOver() {
            gameMessage.className = 'message defeat';
            gameMessage.textContent = `Game Over! A palavra era: ${secretWord}`;
            
            // Adiciona ponto automaticamente para o streamer
            setTimeout(() => {
                addPoint(true, true);
            }, 1500);
        }

        // Adiciona ponto ao placar
        function addPoint(isStreamer, isAuto = false) {
            let playerName;
            
            if (isStreamer) {
                playerName = streamerName;
            } else {
                playerName = winnerInput.value.trim();
                if (playerName === '' && !isAuto) {
                    alert('Por favor, digite o nome do ganhador!');
                    return;
                }
            }
            
            // Verifica se o jogador já está no placar
            const existingPlayer = scoreboard.find(player => player.name === playerName);
            
            if (existingPlayer) {
                existingPlayer.score++;
            } else {
                scoreboard.push({
                    name: playerName,
                    score: 1,
                    isStreamer: isStreamer
                });
            }
            
            updateScoreboard();
            
            if (!isAuto) {
                resetRound();
            } else {
                // Se foi automático (derrota), mostra mensagem
                gameMessage.textContent += `\nPonto para ${playerName}!`;
                setTimeout(resetRound, 2000);
            }
        }

        // Pula a tela de vitória
        function skipVictoryScreen() {
            victoryScreen.style.display = 'none';
            resetRound();
        }

        // Reseta a rodada
        function resetRound() {
            setupScreen.style.display = 'block';
            gameScreen.style.display = 'none';
            victoryScreen.style.display = 'none';
            gameMessage.className = 'message';
            gameMessage.textContent = '';
        }

        // Atualiza o placar
        function updateScoreboard() {
            if (scoreboard.length === 0) {
                scoreboardContent.innerHTML = '<p style="opacity: 0.6; text-align: center;">Nenhum ponto registrado ainda</p>';
                return;
            }
            
            // Ordena por pontuação (maior primeiro)
            scoreboard.sort((a, b) => b.score - a.score);
            
            let html = '';
            scoreboard.forEach((player, index) => {
                const isTop = index === 0 && scoreboard.length > 1;
                html += `
                    <div class="score-item ${player.isStreamer ? 'streamer' : ''}">
                        <div class="player-name">
                            ${isTop ? '👑' : ''} ${player.name}
                        </div>
                        <div class="player-score">
                            ${player.score} ${player.score === 1 ? 'ponto' : 'pontos'}
                        </div>
                    </div>
                `;
            });
            
            scoreboardContent.innerHTML = html;
        }

        // Limpa o placar
        function clearScoreboard() {
            if (confirm('Tem certeza que deseja limpar o placar?')) {
                scoreboard = [];
                updateScoreboard();
            }
        }
    </script>
</body>
</html>
